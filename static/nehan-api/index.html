<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-399060-28', 'auto');
  ga('send', 'pageview');

</script>
<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>nehan.js</h1><h2>Introduction</h2><p>nehan.js is dynamic and logical html layout engine written in javascript, especially focused on generating <strong>logical paged media</strong> asynchronously.</p>
<p>Almost all html5 tags are supported, and further more, vertical layout(lr-tb, rl-tb) supported.</p>
<p>Available on IE8+, Firefox3.5+, Google Chrome4+, Safari3+, Opera10+ etc.</p>
<h2>Install</h2><p>Include css, js in the <code>&lt;head&gt;</code></p>
<pre class="prettyprint source lang-html"><code>&lt;link href=&quot;/path/to/nehan.css&quot; type=&quot;text/css&quot; rel=&quot;stylesheet&quot;>
&lt;script src=&quot;/path/to/nehan.js&quot; type=&quot;text/javascript&quot;>&lt;/script></code></pre><h2>Demo &amp; Document</h2><p>See <a href="http://tategakibunko.github.io/nehan.js">demo and document</a>.</p>
<h2>Screenshot</h2><p>These screenshots are layout result of <a href="https://github.com/tategakibunko/jekyll-nehan">jekyll-nehan</a>.</p>
<h3>1. horizontal paged media</h3><p><img src="https://raw.github.com/tategakibunko/jekyll-nehan/master/assets/sshot-hori.png" width="300" height="160" /></p>
<h3>2. vertical paged media</h3><p><img src="https://raw.github.com/tategakibunko/jekyll-nehan/master/assets/sshot-vert.png" width="300" height="160" /></p>
<h2>Quick Start 1 (for simple single page layout)</h2><pre class="prettyprint source lang-javascript"><code>// NehanPagedElement is available for Nehan.version >= 5.0.3
var pe = Nehan.createPagedElement();

// before calling setContent, set 'body' style of this paged-element.
// notice that you can't use camel-cased css property.
pe.setStyle(&quot;body&quot;, {
  &quot;flow&quot;:&quot;lr-tb&quot;,
  //&quot;flow&quot;:&quot;tb-rl&quot;, // for Japanese vertical
  &quot;font-size&quot;:16, // use 'font-size' instead of 'fontSize'!
  &quot;width&quot;:640,
  &quot;height&quot;:480
});

// by setContent, paged-media is asynchronously generated.
pe.setContent(&quot;&lt;h1>hello, nehan.js&lt;/h1>&quot;, {
  onProgress : function(tree){}, // tree.pageNo, tree.percent is available.
  onComplete : function(time){}
});

// set paged-media element to some target dom.
document.getElementById(&quot;result&quot;).appendChild(pe.getElement());

// set next/prev callback to some clickable target.
document.getElementById(&quot;next&quot;).onclick = function(){ pe.setNextPage() };
document.getElementById(&quot;prev&quot;).onclick = function(){ pe.setPrevPage() };</code></pre><h2>Quick Start 2 (more flexible way)</h2><pre class="prettyprint source lang-javascript"><code>// create layout engine.
var engine = Nehan.createEngine();

// set body size(= page size)
engine.setStyle(&quot;body&quot;, {
  &quot;flow&quot;:&quot;lr-tb&quot;, // or &quot;tb-rl&quot;(vertical)
  &quot;font-size&quot;:16,
  &quot;width&quot;:640,
  &quot;height&quot;:480
});

// generate page stream from engine.
var page_stream = engine.createPageStream(&quot;&lt;h1>hello, nehan.js&lt;/h1>&quot;);

// get target dom.
var target_dom = document.getElementById(&quot;my-page-document&quot;);

// start parsing
page_stream.asyncGet({
  // called when each abstract layout tree is generated.
  onProgress: function(stream, tree){
    var page = stream.getPage(tree.pageNo); // tree -> page object
    target_dom.appendChild(page.element);
  },
  // called when all pages are generated.
  onComplete: function(stream, time){
    console.log(&quot;finished!! => %fmsec&quot;, time);
  }
});</code></pre><h3>Styling(engine local style)</h3><p>Engine local style is only available for the single engine.</p>
<pre class="prettyprint source lang-javascript"><code>// create layout engine.
var engine = Nehan.createEngine();

// set engine local style.
engine.setStyles({
  // notice that 'body size' = 'page size'.
  &quot;body&quot;:{
    &quot;flow&quot;:&quot;lr-tb&quot;, // document mode horizontal
    //&quot;flow&quot;:&quot;tb-rl&quot;, // document mode vertical(Japanese)
    &quot;width&quot;:&quot;80%&quot;, // percent size from parent, 'screen.width' at this case.
    // &quot;width&quot;:900, // direct size
    &quot;height&quot;:&quot;60%&quot;, // percent size from parent, 'screen.height' at this case.
    &quot;font-size&quot;:16, // notice that camel-case(fontSize) is not allowed.
    &quot;font-family&quot;:&quot;Meiryo&quot;,
    // functional property is supported.
    &quot;background-color&quot;:function(prop_context){
      return &quot;white&quot;;
    },
    // onload callback is called after all the properties of this selector('body' at this case) are loaded.
    &quot;onload&quot;:function(selector_context){
      var markup = selector_context.getMarkup();
      console.log(markup.getName()); // => &quot;body&quot;
      console.log(markup.getAttr(&quot;foo&quot;)); // => 'aaa' if &lt;body foo='aaa'>
      console.log(markup.getData(&quot;fuga&quot;)); // => '10' if &lt;body data-fuga='10'>
      console.log(markup.getContent()); // => 'hello' if &lt;body>hello&lt;/body>
      console.log(markup.getCssAttr(&quot;font-family&quot;)); // => 'Meiryo'

      // you can overwrite content dynamically like this.
      markup.setContent(markup.getContent() + &quot;!!&quot;);

      // other context variables....
      console.log(&quot;nth-child is %d&quot;, selector_context.getChildIndex());
      console.log(&quot;nth-child-of-type is %d&quot;, selector_context.getChildIndexOfType());
      console.log(&quot;rest extent size is %d&quot;, selector_context.getRestExtent());
      console.log(&quot;rest measure size is %d&quot;, selector_context.getRestMeasure());
    },
    // oncreate callback is called when this element is actually generated by evaluator.
    &quot;oncreate&quot;:function(dom, selector_context){
      alert(&quot;body element is created&quot;);
    }
  },
  // you can use regexp as element name like this.
  &quot;header /h[1-6]/&quot;:{
    &quot;font-weight&quot;:&quot;bold&quot;,
    // notice that directions in nehan.js are defined as 'logical' like this.
    &quot;margin&quot;:{
      &quot;after&quot;:&quot;1.5em&quot; // 'after' is 'bottom' if body.flow = 'lr-tb'('left' if 'tb-rl').
    }
  }
});</code></pre><h3>important notice about css properties in nehan.js</h3><p>Notice that camel case is not allowed for css properties.</p>
<ul>
<li>&quot;font-size&quot;:16 =&gt; OK</li>
<li>&quot;fontSize&quot;:16 =&gt; NG</li>
</ul>
<h2>Styling(global style)</h2><p>Instead of <code>engine.setStyle</code> or <code>pe.setStyle</code>, <code>Nehan.setStyle</code> is used to set <strong>global style</strong>.</p>
<p>Global styles are shared by all engines created in same window.</p>
<pre class="prettyprint source lang-javascript"><code>Nehan.setStyle(&quot;body&quot;, {
  &quot;font-size&quot;:16
});

// multiple values by setStyles.
Nehan.setStyles({
  &quot;body&quot;:{
    &quot;color&quot;:&quot;#ccc&quot;
  },
  &quot;h1&quot;:{
    &quot;font-size&quot;:&quot;3em&quot;
  }
});</code></pre><h2>License</h2><p>MIT License</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Nehan.AttrSelector.html">AttrSelector</a></li><li><a href="Nehan.BlockContext.html">BlockContext</a></li><li><a href="Nehan.BlockFlow.html">BlockFlow</a></li><li><a href="Nehan.BlockGenerator.html">BlockGenerator</a></li><li><a href="Nehan.BodyGenerator.html">BodyGenerator</a></li><li><a href="Nehan.Border.html">Border</a></li><li><a href="Nehan.BorderColor.html">BorderColor</a></li><li><a href="Nehan.BorderRadius.html">BorderRadius</a></li><li><a href="Nehan.BorderStyle.html">BorderStyle</a></li><li><a href="Nehan.Box.html">Box</a></li><li><a href="Nehan.BoxEdge.html">BoxEdge</a></li><li><a href="Nehan.BoxFlow.html">BoxFlow</a></li><li><a href="Nehan.BoxPosition.html">BoxPosition</a></li><li><a href="Nehan.BoxSize.html">BoxSize</a></li><li><a href="Nehan.Break.html">Break</a></li><li><a href="Nehan.Char.html">Char</a></li><li><a href="Nehan.Client.html">Client</a></li><li><a href="Nehan.Color.html">Color</a></li><li><a href="Nehan.CssHashSet.html">CssHashSet</a></li><li><a href="Nehan.CursorContext.html">CursorContext</a></li><li><a href="Nehan.DocumentGenerator.html">DocumentGenerator</a></li><li><a href="Nehan.DocumentHeader.html">DocumentHeader</a></li><li><a href="Nehan.DocumentTokenStream.html">DocumentTokenStream</a></li><li><a href="Nehan.Edge.html">Edge</a></li><li><a href="Nehan.Engine.html">Engine</a></li><li><a href="Nehan.FilteredTokenStream.html">FilteredTokenStream</a></li><li><a href="Nehan.FirstLineGenerator.html">FirstLineGenerator</a></li><li><a href="Nehan.FlipGenerator.html">FlipGenerator</a></li><li><a href="Nehan.FloatDirection.html">FloatDirection</a></li><li><a href="Nehan.FloatGenerator.html">FloatGenerator</a></li><li><a href="Nehan.FloatGroup.html">FloatGroup</a></li><li><a href="Nehan.FloatGroupStack.html">FloatGroupStack</a></li><li><a href="Nehan.Flow.html">Flow</a></li><li><a href="Nehan.Font.html">Font</a></li><li><a href="Nehan.HashSet.html">HashSet</a></li><li><a href="Nehan.HeaderGenerator.html">HeaderGenerator</a></li><li><a href="Nehan.HeadTokenStream.html">HeadTokenStream</a></li><li><a href="Nehan.HoriEvaluator.html">HoriEvaluator</a></li><li><a href="Nehan.HtmlGenerator.html">HtmlGenerator</a></li><li><a href="Nehan.HtmlLexer.html">HtmlLexer</a></li><li><a href="Nehan.HtmlTokenStream.html">HtmlTokenStream</a></li><li><a href="Nehan.InlineBlockGenerator.html">InlineBlockGenerator</a></li><li><a href="Nehan.InlineContext.html">InlineContext</a></li><li><a href="Nehan.InlineFlow.html">InlineFlow</a></li><li><a href="Nehan.InlineGenerator.html">InlineGenerator</a></li><li><a href="Nehan.LayoutEvaluator.html">LayoutEvaluator</a></li><li><a href="Nehan.LayoutGenerator.html">LayoutGenerator</a></li><li><a href="Nehan.LazyGenerator.html">LazyGenerator</a></li><li><a href="Nehan.LinkGenerator.html">LinkGenerator</a></li><li><a href="Nehan.ListGenerator.html">ListGenerator</a></li><li><a href="Nehan.ListItemGenerator.html">ListItemGenerator</a></li><li><a href="Nehan.ListStyle.html">ListStyle</a></li><li><a href="Nehan.ListStyleImage.html">ListStyleImage</a></li><li><a href="Nehan.ListStylePos.html">ListStylePos</a></li><li><a href="Nehan.ListStyleType.html">ListStyleType</a></li><li><a href="Nehan.Margin.html">Margin</a></li><li><a href="Nehan.OutlineContext.html">OutlineContext</a></li><li><a href="Nehan.Padding.html">Padding</a></li><li><a href="Nehan.Page.html">Page</a></li><li><a href="Nehan.PagedElement.html">PagedElement</a></li><li><a href="Nehan.PageEvaluator.html">PageEvaluator</a></li><li><a href="Nehan.PageStream.html">PageStream</a></li><li><a href="Nehan.ParallelGenerator.html">ParallelGenerator</a></li><li><a href="Nehan.Partition.html">Partition</a></li><li><a href="Nehan.PartitionHashSet.html">PartitionHashSet</a></li><li><a href="Nehan.PartitionUnit.html">PartitionUnit</a></li><li><a href="Nehan.PseudoSelector.html">PseudoSelector</a></li><li><a href="Nehan.Radius2d.html">Radius2d</a></li><li><a href="Nehan.Rgb.html">Rgb</a></li><li><a href="Nehan.Ruby.html">Ruby</a></li><li><a href="Nehan.RubyTokenStream.html">RubyTokenStream</a></li><li><a href="Nehan.Section.html">Section</a></li><li><a href="Nehan.SectionContentGenerator.html">SectionContentGenerator</a></li><li><a href="Nehan.SectionHeader.html">SectionHeader</a></li><li><a href="Nehan.SectionRootGenerator.html">SectionRootGenerator</a></li><li><a href="Nehan.Selector.html">Selector</a></li><li><a href="Nehan.SelectorContext.html">SelectorContext</a></li><li><a href="Nehan.SelectorLexer.html">SelectorLexer</a></li><li><a href="Nehan.SelectorPropContext.html">SelectorPropContext</a></li><li><a href="Nehan.StyleContext.html">StyleContext</a></li><li><a href="Nehan.TabeRowGroupGenerator.html">TabeRowGroupGenerator</a></li><li><a href="Nehan.TableCellGenerator.html">TableCellGenerator</a></li><li><a href="Nehan.TableGenerator.html">TableGenerator</a></li><li><a href="Nehan.TableRowGenerator.html">TableRowGenerator</a></li><li><a href="Nehan.Tag.html">Tag</a></li><li><a href="Nehan.TagAttrLexer.html">TagAttrLexer</a></li><li><a href="Nehan.TagAttrParser.html">TagAttrParser</a></li><li><a href="Nehan.TagAttrs.html">TagAttrs</a></li><li><a href="Nehan.Tcy.html">Tcy</a></li><li><a href="Nehan.TextAlign.html">TextAlign</a></li><li><a href="Nehan.TextEmpha.html">TextEmpha</a></li><li><a href="Nehan.TextEmphaPos.html">TextEmphaPos</a></li><li><a href="Nehan.TextEmphaStyle.html">TextEmphaStyle</a></li><li><a href="Nehan.TocContext.html">TocContext</a></li><li><a href="Nehan.TokenStream.html">TokenStream</a></li><li><a href="Nehan.TypeSelector.html">TypeSelector</a></li><li><a href="Nehan.Uri.html">Uri</a></li><li><a href="Nehan.VertEvaluator.html">VertEvaluator</a></li><li><a href="Nehan.Word.html">Word</a></li></ul><h3>Namespaces</h3><ul><li><a href="Nehan.html">Nehan</a></li><li><a href="Nehan.Args.html">Args</a></li><li><a href="Nehan.BoxCorner.html">BoxCorner</a></li><li><a href="Nehan.BoxFlows.html">BoxFlows</a></li><li><a href="Nehan.BoxRect.html">BoxRect</a></li><li><a href="Nehan.Breaks.html">Breaks</a></li><li><a href="Nehan.Cardinal.html">Cardinal</a></li><li><a href="Nehan.Class.html">Class</a></li><li><a href="Nehan.Closure.html">Closure</a></li><li><a href="Nehan.Colors.html">Colors</a></li><li><a href="Nehan.Config.html">Config</a></li><li><a href="Nehan.Const.html">Const</a></li><li><a href="Nehan.Css.html">Css</a></li><li><a href="Nehan.CssParser.html">CssParser</a></li><li><a href="Nehan.Display.html">Display</a></li><li><a href="Nehan.DocumentContext.html">DocumentContext</a></li><li><a href="Nehan.Env.html">Env</a></li><li><a href="Nehan.FloatDirections.html">FloatDirections</a></li><li><a href="Nehan.Html.html">Html</a></li><li><a href="Nehan.Kerning.html">Kerning</a></li><li><a href="Nehan.LexingRule.html">LexingRule</a></li><li><a href="Nehan.List.html">List</a></li><li><a href="Nehan.MathUtils.html">MathUtils</a></li><li><a href="Nehan.Obj.html">Obj</a></li><li><a href="Nehan.OutlineContextParser.html">OutlineContextParser</a></li><li><a href="Nehan.Palette.html">Palette</a></li><li><a href="Nehan.SectionTreeConverter.html">SectionTreeConverter</a></li><li><a href="Nehan.Selectors.html">Selectors</a></li><li><a href="Nehan.SelectorStateMachine.html">SelectorStateMachine</a></li><li><a href="Nehan.Style.html">Style</a></li><li><a href="Nehan.TablePartitionParser.html">TablePartitionParser</a></li><li><a href="Nehan.TextAligns.html">TextAligns</a></li><li><a href="Nehan.TextMetrics.html">TextMetrics</a></li><li><a href="Nehan.Token.html">Token</a></li><li><a href="Nehan.Utils.html">Utils</a></li></ul><h3>Global</h3><ul><li><a href="global.html#reqAnimationFrame">reqAnimationFrame</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha13</a> on Wed Mar 11 2015 13:57:40 GMT+0900 (JST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>